@font-face {
  font-family: "MessyHandwritten";
  src: url("fonts/MessyHandwritten-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
}
@font-face {
  font-family: "BeforeLovingYou";
  src: url("fonts/Before Loving You.otf") format("opentype");
  font-weight: 600;
  font-style: normal;
}

.hidden {
  display: none !important;
}
#cat-audio {
  display: none;
}
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: "BeforeLovingYou", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: radial-gradient(circle at top, #1d4ed8 0, #020617 45%, #000 100%);
  color: #f9fafb;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow-x: hidden;
  position: relative;
    /* üîß new: base background image behind everything */
  background-image: url("backgrounds/background.jpg"); /* or .jpeg/.png */
  background-size: cover;        /* fill screen, keep aspect ratio */
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;  /* nice subtle parallax on scroll */
}

.auth-gate {
  position: fixed;
  inset: 0;
  z-index: 50; /* above everything else */
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(10px);
  background: radial-gradient(circle at top, rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.96));
}

.auth-card {
  background: rgba(15, 23, 42, 0.9);
  border-radius: 24px;
  padding: 2.2rem 2.6rem;
  max-width: 560px;
  width: min(560px, 95vw);
  border: 1px solid rgba(148, 163, 184, 0.6);
  box-shadow:
    0 0 40px rgba(15, 23, 42, 0.9),
    0 0 80px rgba(56, 189, 248, 0.35);
}

.auth-title {
  font-size: 1.6rem;
  margin-bottom: 0.6rem;
}

.auth-subtitle {
  font-size: 0.95rem;
  color: #cbd5f5;
  margin-bottom: 1.4rem;
}

.auth-input-row {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.auth-input-row input {
  flex: 1;
  padding: 0.55rem 0.8rem;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.7);
  background: rgba(15, 23, 42, 0.9);
  color: #f9fafb;
  font-size: 0.95rem;
}

.auth-input-row input:focus {
  outline: none;
  border-color: #38bdf8;
  box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.6);
}

.auth-button {
  width: 100%;
  margin-top: 0.25rem;
  padding: 0.65rem 1rem;
  border-radius: 999px;
  border: none;
  background: linear-gradient(to right, #38bdf8, #a855f7);
  color: #0b1120;
  font-weight: 600;
  font-size: 0.98rem;
  cursor: pointer;
  box-shadow: 0 0 20px rgba(56, 189, 248, 0.5);
}

.auth-button:hover {
  transform: translateY(-1px);
  box-shadow: 0 0 26px rgba(56, 189, 248, 0.7);
}

.auth-error {
  margin-top: 0.75rem;
  font-size: 0.85rem;
  color: #fecaca;
}

.fullscreen-toggle {
  position: fixed;
  top: 1.2rem;
  right: 1.4rem;
  z-index: 60;              /* above cards, cat, etc. */
  width: 36px;
  height: 36px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.6);
  background: radial-gradient(circle at 30% 20%, #38bdf8 0, #0f172a 55%, #020617 100%);
  color: #e5e7eb;
  font-size: 1.1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 0 16px rgba(15, 23, 42, 0.8);
}

.fullscreen-toggle:hover {
  box-shadow: 0 0 24px rgba(56, 189, 248, 0.8);
  transform: translateY(-1px);
}

.fullscreen-toggle:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.8);
}

/* Soft starry background */
.star-field {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}

/* Base star style */
.star {
  position: absolute;
  border-radius: 50%;
  background: #e5edff;
  box-shadow: 0 0 12px rgba(191, 219, 254, 0.9);
  opacity: 0;
  animation: twinkleStar 4s ease-in-out infinite;
}

/* sizes */
.star-sm {
  width: 6px;
  height: 6px;
}

.star-md {
  width: 9px;
  height: 9px;
}

.star-lg {
  width: 12px;
  height: 12px;
}

/* positions (pseudo-randomly scattered) */
.star1  { top: 8%;  left: 12%; }
.star2  { top: 18%; left: 72%; }
.star3  { top: 30%; left: 25%; }
.star4  { top: 35%; left: 85%; }
.star5  { top: 12%; left: 50%; }
.star6  { top: 55%; left: 15%; }
.star7  { top: 62%; left: 40%; }
.star8  { top: 70%; left: 75%; }
.star9  { top: 20%; left: 90%; }
.star10 { top: 80%; left: 20%; }
.star11 { top: 82%; left: 55%; }
.star12 { top: 10%; left: 30%; }
.star13 { top: 45%; left: 60%; }
.star14 { top: 65%; left: 5%;  }
.star15 { top: 88%; left: 85%; }

/* vary timing a bit so they twinkle differently */
.star:nth-child(odd) {
  animation-duration: 3.2s;
}

.star:nth-child(3n) {
  animation-duration: 4.8s;
  animation-delay: 0.6s;
}

.star:nth-child(4n) {
  animation-duration: 5.5s;
  animation-delay: 1s;
}

@keyframes twinkleStar {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  40% {
    opacity: 1;
    transform: scale(1.1);
  }
  100% {
    opacity: 0.2;
    transform: scale(0.95);
  }
}

#app {
  position: relative;
  z-index: 1;
  text-align: center;
  padding: 2.2rem 2.6rem;
  border-radius: 1.5rem;
  background: rgba(15, 23, 42, 0.88);
  border: none; /* no visible border */
  max-width: 480px;
  width: 90%;
  box-shadow: 0 20px 45px rgba(0, 0, 0, 0.65);
}

/* When frameless, remove the card look */
#app.frameless {
  background: transparent;
  border: none;
  box-shadow: none;
  border-radius: 0;
  max-width: 1200px;
  width: 100%;
  padding: 3rem 2rem 2.5rem;
}

/* Fade-in animation for content */
.title,
.subtitle,
.scene-heading,
.adventures-heading,
.gifts-heading,
.secret-heading,
.final-heading {
  font-family: "MessyHandwritten", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  opacity: 0;
  transform: translateY(10px);
  animation: fadeInUp 1s ease forwards;
}

#start-button {
  opacity: 0;
  transform: translateY(10px);
  animation: fadeInUp 1s ease forwards;
}

.title {
  font-size: 4.5rem;
  margin-bottom: 0.75rem;
  letter-spacing: 0.03em;
  animation-delay: 0.2s;
}

.subtitle {
  font-size: 2rem;
  font-weight: 500;
  color: #c7d2fe;
  margin-bottom: 1.8rem;
  animation-delay: 0.9s;
}

#start-button {
  margin-top: 0.5rem;
  padding: 0.7rem 1.6rem;
  border-radius: 999px;
  border: none;
  font-size: 1rem;
  cursor: pointer;
  background: #38bdf8;
  color: #0f172a;
  font-weight: 600;
  transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.2s ease;
  animation-delay: 1.6s;
}

#start-button:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 15px rgba(56, 189, 248, 0.45);
  background: #0ea5e9;
}

@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(14px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Card fade between scenes */
#app.fade-out {
  animation: cardFadeOut 0.5s ease forwards;
}

#app.fade-in {
  animation: cardFadeIn 0.5s ease forwards;
}

@keyframes cardFadeOut {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
}

@keyframes cardFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Scene 1 text styling */
.scene-heading {
  font-family: "MessyHandwritten", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-size: 2.4rem;
  margin-bottom: 0.8rem;
}

.scene-text {
  font-size: 1rem;
  line-height: 1.6;
  color: #e5e7eb;
  margin-bottom: 0.9rem;
}

/* Card fade between scenes */
#app.fade-out {
  animation: cardFadeOut 0.5s ease forwards;
}

#app.fade-in {
  animation: cardFadeIn 0.5s ease forwards;
}

@keyframes cardFadeOut {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
}

@keyframes cardFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Scene 1 layout */
.scene {
  text-align: center;
}

.scene-heading {
  font-family: "MessyHandwritten", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-size: 2.4rem;
  margin-bottom: 0.8rem;
}

.scene-text {
  font-size: 1rem;
  line-height: 1.6;
  color: #e5e7eb;
  margin-bottom: 0.9rem;
}

/* White cat visual */
.cat-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 1.4rem;
}

.cat-image {
  width: 150px;
  height: 150px;
  border-radius: 999px;
  overflow: hidden;
  box-shadow: 0 0 30px rgba(191, 219, 254, 0.9);
  animation: catFloat 4s ease-in-out infinite;
}

.cat-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.cat-caption {
  font-size: 0.9rem;
  color: #c7d2fe;
  margin-top: 0.5rem;
}

@keyframes catFloat {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-6px);
  }
  100% {
    transform: translateY(0);
  }
}

/* Reusable primary button (for continue, etc.) */
.primary-button {
  margin-top: 1.2rem;
  padding: 0.7rem 1.6rem;
  border-radius: 999px;
  border: none;
  font-size: 1rem;
  cursor: pointer;
  background: #38bdf8;
  color: #0f172a;
  font-weight: 600;
  transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.2s ease;
}

.primary-button:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 15px rgba(56, 189, 248, 0.45);
  background: #0ea5e9;
}

/* --- Constellation I: Our Beginnings --- */

.scene-beginnings {
  text-align: left;
}

.timeline-instructions {
  font-size: 0.9rem;
  color: #cbd5f5;
  margin-bottom: 0.9rem;
}

.event-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
  margin-bottom: 1rem;
}

.event-card {
  flex: 1 1 100%;
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  padding: 0.7rem 0.8rem;
  border-radius: 0.9rem;
  border: 1px solid rgba(148, 163, 184, 0.5);
  background: rgba(15, 23, 42, 0.95);
  cursor: pointer;
  transition: transform 0.08s ease, box-shadow 0.08s ease, border-color 0.08s ease,
    background 0.08s ease;
  text-align: left;
  color: #e5e7eb;
  
}

.event-card.dragging {
  opacity: 0.6;
  border-style: dashed;
}

.event-card:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.8);
  border-color: #38bdf8;
}

.event-card.selected {
  border-color: #38bdf8;
  background: rgba(15, 23, 42, 1);
  box-shadow: 0 0 12px rgba(56, 189, 248, 0.5);
}

.event-label {
  font-size: 1.2rem;
}

.event-text {
  font-size: 0.95rem;
  line-height: 1.5;
  color: inherit;
}

.scene-subheading {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 0.3rem;
  color: #e5e7eb;
}

.chosen-list {
  list-style: decimal;
  padding-left: 1.2rem;
  font-size: 0.9rem;
  color: #e5e7eb;
  min-height: 1.4rem;
}

.chosen-list li {
  margin-bottom: 0.2rem;
}

.controls-row {
  display: flex;
  justify-content: space-between;
  gap: 0.6rem;
  margin-top: 0.9rem;
  margin-bottom: 0.4rem;
}

.secondary-button {
  margin-top: 0;
  padding: 0.6rem 1.2rem;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.7);
  background: transparent;
  font-size: 0.9rem;
  cursor: pointer;
  color: #e5e7eb;
  transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.12s ease,
    border-color 0.12s ease;
}

.secondary-button:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.9);
  background: rgba(15, 23, 42, 0.9);
  border-color: #38bdf8;
}

.status-message {
  font-size: 0.9rem;
  color: #cbd5f5;
  min-height: 1.4rem;
}

/* cat in bottom-right for this scene */
.inline-cat {
  margin-top: 1rem;
  display: flex;
  justify-content: flex-end;
}

.cat-image.small {
  width: 90px;
  height: 90px;
}

.guide-cat {
  position: fixed;
  right: 1.8rem;
  bottom: 1.5rem;
  z-index: 3;
}

.guide-cat.hidden {
  display: none;
}

/* Scene-specific backgrounds */
body.bg-intro {
  background: radial-gradient(circle at top, #1d4ed8 0, #020617 45%, #000 100%);
}

body.bg-beginnings {
  background: radial-gradient(circle at top, #4f46e5 0, #020617 45%, #000 100%);
}

/* for the future Adventures scene */
body.bg-adventures {
  background: radial-gradient(circle at top, #0ea5e9 0, #020617 45%, #000 100%);
}

#glow {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  /* big ‚Äúwindow‚Äù behind the card */
  width: min(130vw, 130vh);    /* almost full screen */
  height: min(120vh, 120vw);
  pointer-events: none;
  z-index: 0;

  /* show the GIF inside this window */
  background-size: contain;        /* full gif visible */
  background-position: center center;
  background-repeat: no-repeat;
  background-color: rgba(0, 0, 0, 0.45);  /* darken behind card a bit */

  /* border around the gif window */
  border: 4px solid rgba(248, 250, 252, 0.85);
  border-radius: 28px;
  box-shadow:
    0 0 40px rgba(15, 23, 42, 0.9),
    0 0 80px rgba(56, 189, 248, 0.35);

  /* your existing transitions */
  filter: hue-rotate(0deg);
  transition:
    filter 1.5s ease-in-out,
    opacity 0.8s ease-in-out;
  opacity: 1;
}

/* --- Constellation II: Adventures Together --- */

/* --- Constellation II: Adventures Together --- */

.scene-adventures {
  text-align: center;
}

/* title uses MessyHandwritten */
.adventures-heading {
  font-family: "MessyHandwritten", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-size: 2.4rem;
  margin-bottom: 0.4rem;
}

.adventures-intro {
  font-size: 0.98rem;
  color: #e5e7eb;
  margin-bottom: 1.4rem;
}

/* bubble row */

.memory-orbit {
  display: flex;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
  margin-bottom: 1.6rem;
}

/* make sure we override default button styling */
button.memory-bubble {
  all: unset;
  box-sizing: border-box;
}

.memory-bubble {
  width: 110px;
  height: 110px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.7);
  background: radial-gradient(circle at 30% 20%, #38bdf8 0, #0f172a 55%, #020617 100%);
  box-shadow: 0 0 18px rgba(56, 189, 248, 0.5);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.4rem;
  position: relative;
  color: #f9fafb;
  text-align: center;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease, opacity 0.15s ease;
}

.memory-bubble span {
  font-size: 0.9rem;
  line-height: 1.3;
}

.memory-bubble:hover {
  transform: translateY(-4px);
  box-shadow: 0 0 22px rgba(56, 189, 248, 0.7);
  border-color: #38bdf8;
}

.memory-bubble.visited {
  opacity: 0.9;
  box-shadow: 0 0 22px rgba(74, 222, 128, 0.7);
  border-color: #4ade80;
}


/* subtle float animation */
@keyframes bubbleFloat {
  0% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
  100% { transform: translateY(0); }
}

.memory-bubble:nth-child(1) { animation: bubbleFloat 7s ease-in-out infinite; }
.memory-bubble:nth-child(2) { animation: bubbleFloat 6s ease-in-out infinite 0.5s; }
.memory-bubble:nth-child(3) { animation: bubbleFloat 8s ease-in-out infinite 1s; }

/* cloud text area with pop-in animation */

.memory-cloud {
  position: relative;
  margin: 0 auto;
  max-width: 520px;
  padding: 1rem 1.3rem 1.1rem;
  border-radius: 1.4rem;
  border: 1px solid rgba(148, 163, 184, 0.6);
  background: rgba(15, 23, 42, 0.96);
  box-shadow: 0 14px 30px rgba(15, 23, 42, 0.9);
  text-align: left;
  opacity: 1;
  transform: scale(1) translateY(0);
  transition: opacity 0.25s ease-out, transform 0.25s ease-out;
}

.memory-cloud::after {
  content: "";
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  border-width: 0 14px 14px 14px;
  border-style: solid;
  border-color: transparent transparent rgba(15, 23, 42, 0.96) transparent;
}

/* hidden state BEFORE first click */
.memory-cloud.hidden {
  opacity: 0;
  transform: scale(0.96) translateY(6px);
  pointer-events: none;
}

.memory-cloud-title {
  font-weight: 600;
  margin-bottom: 0.35rem;
}

.memory-cloud-text {
  font-size: 0.95rem;
  line-height: 1.6;
  color: #e5e7eb;
  margin-bottom: 0.8rem;
}

.memory-choices {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.choice-pill {
  all: unset;
  box-sizing: border-box;
  padding: 0.35rem 0.8rem;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.7);
  background: transparent;
  color: #e5e7eb;
  font-size: 0.85rem;
  cursor: pointer;
  transition: background 0.12s ease, transform 0.08s ease, box-shadow 0.12s ease, border-color 0.12s ease;
}

.choice-pill:hover {
  background: rgba(56, 189, 248, 0.15);
  border-color: #38bdf8;
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.9);
}

.choice-response {
  font-size: 0.9rem;
  color: #c7d2fe;
  margin-top: 0.7rem;
  min-height: 1.2rem;
}

.adventures-continue {
  margin-top: 1.1rem;
}


/* --- Cardless layout for Constellation III --- */

#app.frameless {
  background: transparent;
  box-shadow: none;
  border-radius: 0;
  max-width: 960px;
  padding: 3rem 2rem 2.5rem;
}

/* gifts scene */

.scene-gifts {
  text-align: center;
}

.gifts-heading {
  /* should already be using MessyHandwritten via your heading rules */
  font-size: 2.4rem;
  margin-bottom: 0.4rem;
}

.gifts-intro {
  font-size: 0.95rem;
  color: #e5e7eb;
  max-width: 520px;
  margin: 0 auto 1.5rem;
}

/* the "sky" area where the gifts float */

.gift-sky {
  position: relative;
  max-width: 720px;
  height: 320px;
  margin: 0 auto 1.5rem;
}

/* optional faint lines later if we draw connections */
.gift-sky::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.15;
}

/* base orb look */

.gift-orb {
  position: absolute;
  width: 130px;
  height: 130px;
  border-radius: 999px;
  overflow: hidden; /* clip gif into a perfect circle */

  /* bubble.gif as the ‚Äúplanet‚Äù */
  background-image: url("backgrounds/bubble.gif");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: transparent;

  /* soft glowing edge like the cat */
  border: 2px solid rgba(248, 250, 252, 0.8);
  box-shadow: 0 0 26px rgba(191, 219, 254, 0.9);

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.4rem;
  color: #f9fafb;
  text-align: center;
  font-size: 0.8rem;
  pointer-events: auto;
  opacity: 0.98;
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease,
    border-color 0.15s ease,
    opacity 0.15s ease;
}


.gift-orb:hover {
    transform: translateY(-4px);
    box-shadow: 0 0 22px rgba(56, 189, 248, 0.8);
    border-color: #38bdf8;
    opacity: 1;
}

.gift-orb.visited {
    box-shadow: 0 0 24px rgba(74, 222, 128, 0.8);
    border-color: #4ade80;
}
/* positions for each gift orb */

.gift-orb.lily {
  top: 8%;
  left: 12%;
}

.gift-orb.valentines {
  top: 18%;
  right: 10%;
}

.gift-orb.painting {
  top: 48%;
  left: 22%;
}

.gift-orb.figures {
  top: 55%;
  right: 18%;
}

.gift-orb.music {
  top: 28%;
  left: 45%;
}

.gift-orb span {
  position: relative;
  z-index: 1;
  padding: 0.2rem 0.4rem;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.45); /* subtle dark pill behind text */
  font-size: 0.78rem;
  line-height: 1.2;
  text-shadow: 0 0 6px rgba(15, 23, 42, 0.9);
}
/* progress line */

.gift-progress {
  font-size: 0.9rem;
  color: #cbd5f5;
  margin-bottom: 0.8rem;
}

/* cloud for gift details */
.gift-cloud {
  max-width: 560px;
  margin: 0 auto;
  margin-top: 0.4rem;
  padding: 1rem 1.3rem 1.1rem;
  border-radius: 1.4rem;
  border: 1px solid rgba(148, 163, 184, 0.6);
  background: rgba(15, 23, 42, 0.96);
  box-shadow: 0 14px 30px rgba(15, 23, 42, 0.9);
  text-align: left;
  opacity: 0;
  transform: scale(0.96) translateY(6px);
  transition: opacity 0.25s ease-out, transform 0.25s ease-out;
}

.gift-cloud.visible {
  opacity: 1;
  transform: scale(1) translateY(0);
}

.gift-cloud-title {
  font-weight: 600;
  margin-bottom: 0.35rem;
}

.gift-cloud-text {
  font-size: 0.95rem;
  line-height: 1.6;
  color: #e5e7eb;
}

/* --- Final scene --- */

.scene-final {
  text-align: center;
}

.final-heading {
  font-size: 2.4rem;
  margin-bottom: 0.6rem;
  /* heading already gets MessyHandwritten via your heading rule */
}

.final-text {
  font-size: 0.95rem;
  color: #e5e7eb;
  max-width: 560px;
  margin: 0 auto 0.8rem;
  line-height: 1.7;
}

.final-note {
  font-size: 0.9rem;
  color: #c7d2fe;
  max-width: 480px;
  margin: 0.8rem auto 1.6rem;
}

.final-buttons {
  display: flex;
  justify-content: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

/* --- Cat music player --- */

.cat-player {
  position: fixed;
  right: 1.5rem;
  bottom: 7rem;
  z-index: 4;
  padding: 0.9rem 1.1rem;
  border-radius: 1.2rem;
  background: rgba(15, 23, 42, 0.96);
  border: 1px solid rgba(148, 163, 184, 0.7);
  box-shadow: 0 14px 30px rgba(15, 23, 42, 0.95);
  max-width: 260px;
  font-size: 0.8rem;
  opacity: 0;
  transform: translateY(8px);
  pointer-events: none;
  transition: opacity 0.2s ease-out, transform 0.2s ease-out;
}

.cat-player.visible {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.cat-player-title {
  font-size: 0.85rem;
  margin-bottom: 0.4rem;
  color: #c7d2fe;
}

.cat-player-songs {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
  margin-bottom: 0.4rem;
}

.cat-song-button {
  all: unset;
  box-sizing: border-box;
  padding: 0.35rem 0.7rem;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.7);
  background: rgba(15, 23, 42, 0.9);
  color: #e5e7eb;
  font-size: 0.8rem;
  cursor: pointer;
  text-align: center;
  transition: background 0.12s ease, transform 0.08s ease, box-shadow 0.12s ease, border-color 0.12s ease;
}

.cat-song-button:hover {
  background: rgba(56, 189, 248, 0.15);
  border-color: #38bdf8;
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.9);
}

.cat-player-now {
  font-size: 0.75rem;
  color: #9ca3af;
}

/* --- Sliding timeline on the left --- */

.timeline-wrapper {
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: 40px;         /* full width of panel */
  z-index: 3;
  pointer-events: none; /* we re-enable inside the panel */
}

.timeline-panel {
  position: absolute;
  top: 50%;
  transform: translateY(-50%) translateX(-200px); /* was -180px */
  width: 210px;
  padding: 0.9rem 0.9rem 1rem;
  border-radius: 0 1.2rem 1.2rem 0;
  background: rgba(15, 23, 42, 0.96);
  border: 1px solid rgba(148, 163, 184, 0.7);
  box-shadow: 0 18px 36px rgba(15, 23, 42, 0.95);
  font-size: 0.8rem;
  color: #e5e7eb;
  pointer-events: auto;
  transition: transform 0.25s ease-out;
}

/* when hovering anywhere in the left strip, slide it out */
.timeline-wrapper:hover .timeline-panel {
  transform: translateY(-50%) translateX(0);
}

.timeline-title {
  font-size: 0.9rem;
  margin-bottom: 0.45rem;
  color: #c7d2fe;
}

.timeline-list {
  list-style: none;
  padding: 0;
  margin: 0 0 0.4rem 0;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.timeline-item {
  padding: 0.25rem 0.5rem;
  border-radius: 999px;
  border: 1px solid transparent;
  background: transparent;
  color: #e5e7eb;
  white-space: normal;
  line-height: 1.3;
  opacity: 0.85;
}

.timeline-item:hover {
  background: rgba(56, 189, 248, 0.12);
  border-color: rgba(56, 189, 248, 0.6);
  opacity: 1;
}

/* locked final one (we'll unlock it later with JS) */
.timeline-item-locked {
  opacity: 0.45;
  position: relative;
}

.timeline-item-locked::after {
  content: "üîí";
  font-size: 0.8rem;
  margin-left: 0.3rem;
}

.timeline-hint {
  font-size: 0.7rem;
  color: #9ca3af;
  margin-top: 0.2rem;
}

.timeline-item-active {
  background: rgba(56, 189, 248, 0.18);
  border-color: rgba(56, 189, 248, 0.9);
  color: #e5e7eb;
  opacity: 1;
}

.timeline-item-visited:not(.timeline-item-active) {
  border-color: rgba(148, 163, 184, 0.8);
  background: rgba(15, 23, 42, 0.7);
  opacity: 0.95;
}

.timeline-item-locked {
  opacity: 0.45;
  cursor: default;
}

.timeline-item-locked:hover {
  background: transparent;
  border-color: transparent;
}

/* --- Secret collage scene --- */

.scene-secret {
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-height: 70vh;
}

.secret-heading {
  font-size: 2.4rem;
  margin-bottom: 0.6rem;
}

.secret-text {
  font-size: 0.95rem;
  color: #e8e5eb;
  max-width: 580px;
  margin: 0 auto 1rem;
  line-height: 1.7;
}

.secret-grid {
  max-width: 720px;
  margin: 0 auto 1.4rem;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 0.8rem;
}

.secret-photo {
  position: relative;
  border-radius: 1.1rem;
  overflow: hidden;
  background: rgba(15, 23, 42, 0.95);
  box-shadow: 0 0 22px rgba(248, 250, 252, 0.45);
}

.secret-photo img {
  display: block;
  width: 100%;
  height: auto;
  opacity: 0.95;
}

.secret-caption {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 0.35rem 0.6rem;
  font-size: 0.7rem;
  background: linear-gradient(to top, rgba(15, 23, 42, 0.9), transparent);
  text-align: left;
  color: #e5e7eb;
}

.secret-note {
  font-size: 0.9rem;
  color: #e5e7eb;
  max-width: 480px;
  margin: 0.4rem auto 1.5rem;
}
.secret-actions {
  margin-top: 0.6rem;
}

/* Intro ‚Üí film strip transition */

.secret-intro {
  transition: opacity 0.45s ease, transform 0.45s ease;
}

.secret-intro.secret-intro-hidden {
  opacity: 0;
  transform: translateY(10px);
  pointer-events: none;
  height: 0;
  margin: 0;
  overflow: hidden;
}

.secret-gallery {
  margin-top: 0.6rem;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.6s ease, transform 0.6s ease;
  display: none;
}

.secret-gallery.secret-gallery-visible {
  display: block;
  opacity: 1;
  transform: translateY(0);
}

/* Film strip conveyor */

.film-strip {
  margin: 0.5rem auto 0;
  width: 100%;
  max-width: 1100px;   /* more room than before */
  height: 300px;
  border-radius: 1rem;
  border: 3px solid #000;
  background: #000;
  overflow: hidden;
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.95);
  position: relative;
}

.film-strip::before,
.film-strip::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  height: 12px;
  background: repeating-linear-gradient(
    to right,
    #000 0,
    #000 8px,
    #fff 8px,
    #fff 16px
  );
  opacity: 0.9;
}

.film-strip::before {
  top: 0;
}

.film-strip::after {
  bottom: 0;
}

.film-strip-inner {
  display: flex;
  align-items: center;
  height: 100%;
  gap: 8px;
  padding: 14px 20px;
  /* no animation here ‚Äì JS will set it */
  will-change: transform;
}

.film-frame {
  flex: 0 0 160px;
  height: 200px;
  border-radius: 8px;
  background: #111;
  border: 2px solid #eee;
  overflow: hidden;
  box-shadow: 0 0 10px rgba(248, 250, 252, 0.3);
}

.film-frame img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
/* one full pass, distance defined via CSS var */
@keyframes filmScrollFull {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(calc(-1 * var(--film-scroll-distance, 0px)));
  }
}

.secret-gallery-note {
  font-family: "MessyHandwritten", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-size: 3rem;          /* bigger text */
  line-height: 2;           /* a bit more breathing room */
  color: #d0d449;
  max-width: 1000px;           /* let it stretch wider */
  margin: 0 auto 2rem;      /* a bit more space above the strip */
  text-shadow: 0 3px 10px rgba(2, 103, 136, 0.944); /* subtle glow so it stands out */
}

/* Extra-bright, extra-twinkly stars for secret scene */

@keyframes superTwinkle {
  0% {
    opacity: 0.15;
    transform: scale(0.9);
  }
  20% {
    opacity: 1;
    transform: scale(1.15);
  }
  50% {
    opacity: 0.4;
    transform: scale(1.02);
  }
  80% {
    opacity: 1;
    transform: scale(1.12);
  }
  100% {
    opacity: 0.18;
    transform: scale(0.95);
  }
}

body.secret-stars .star {
  background: #f9fafb; /* whiter star cores */
  box-shadow:
    0 0 18px rgba(239, 246, 255, 1),
    0 0 32px rgba(191, 219, 254, 0.9); /* stronger glow */
  animation-name: superTwinkle;
  animation-duration: 2.4s;  /* faster twinkle than normal */
  animation-timing-function: ease-in-out;
}

/* slightly bigger stars in secret mode */
body.secret-stars .star-sm {
  width: 7px;
  height: 7px;
}

body.secret-stars .star-md {
  width: 10px;
  height: 10px;
}

body.secret-stars .star-lg {
  width: 14px;
  height: 14px;
}

